<div class="col-sm-12">

    <div id="plivoLoginFailDiv" style="display:none">
        <div class="text-center col-sm-4 col-sm-offset-4 mrgtp30">
            <div class="panel panel-danger">
                <div class="panel-heading">
                    <h3>Login Failed</h3>
                </div>
                <div class="panel-body">
                    <p>Please Try To Login Again</p>
                    <p>If the Problem Persists, Contact Your LGN</p>
                </div>
                <div class="panel-footer row">
                    <button onclick="login();" type="button" class="btn btn-success pull-left">Try Again</button>
                    <button onclick="closeLoginAgainBox();" type="button" class="btn btn-danger pull-right">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="panel panel-default" ng-controller="twilioWebPhoneCtrl">
        <div class="panel-heading"><h3 ng-show="!isSoftPhone">Twilio Web Phone</h3><h3 ng-show="isSoftPhone">CRM</h3></div>
        <div class="panel-body" data-ng-init="isSoftPhone = false;">
            <div class="tab" ng-click="isSoftPhone = !isSoftPhone;">{{(isSoftPhone) ? 'Show Softphone': 'Hide SoftPhone';}}</div>
            <div class="row">
                <div ng-hide="isSoftPhone" class="col-sm-4">
                    <!-- this is the top div that will hide when either Hold or Next is clicked  onclick="answer()"-->
                    <div class="call" id="isIncoming" style="display:none">
                        <div class="row">
                            <div class="col-sm-6 padR0">
                                <div class="dial_box pad35 btn-primary" onclick="hideAllExcept('isTransfer')">
                                    <div class="hold-icon"><i class="fa fa-pause"></i></div>
                                    <div>Hold</div>
                                </div>
                            </div>
                            <div class="col-sm-6 padL0">
                                <div class="dial_box pad35 btn-primary" onclick="hideAllExcept('isNext')">
                                    <div>Next <i class="fa fa-arrow-right"></i></div>
                                    <div class="changing-campaign"><a href="javascript:void(0);" onclick="hideAllExcept('isNext')">Change Campaign</a></div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 padR0">
                                <div class="dial_box pad35">
                                    <div class="waiting-calls-heading">Waiting Calls</div>
                                    <!-- displays how many calls are waiting -->
                                    <div class="waiting-calls">00</div>
                                </div>
                            </div>
                            <div class="col-sm-6 padL0">
                                <div class="dial_box pad35">
                                    <div class="calls-today-heading"> Calls Taken Today </div>
                                    <!-- displays how many calls taken today -->
                                    <div class="calls-today">00</div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="pad35">
                                    <a href="javascript:void(0)" class="btn main-btn btn-danger btn-block" onclick="tw_HangUp()">END</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- this is the section that shows when Hold is clicked -->
                    <!-- Transfer call section-->
                    <div id="isTransfer" class="transfer_box mrgtp30" style='display:none'>
                        <form  class="vertical-form" name="form" >
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <p><label>Transfer A Call</label></p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <input type="tel" placeholder="External Number:" name="tansfers-external-number" class="form-control">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <input type="tel" class="form-control" placeholder="Internal Extension:" name="tansfers-internal-extension">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <!-- this displays the selected queue -->
                                    <select>
                                        <option value="customerService">Customer Service</option>
                                        <option value="sales">Sales</option>
                                        <option value="billing">Billing</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <button class="btn btn-primary trns_btn" id="transferToPhone" onclick="transferYo();">Submit</button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-sm-offset-3">
                                    <div class="btn btn-primary next-btn" onclick="hideAllExcept('isIncoming')">Back to Main Menu</div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- this is end of the section that shows when Hold is clicked -->
                    <!-- this is the section that shows when transfer is clicked -->
                    <div class="softPhone-next-menu transfer_box mrgtp30" id="isNext" style="display:none">
                        <!-- this list will populate from an 'PA active campaigns' list -->
                        <form>
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <p><label>Outbound Campaigns</label></p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-1 col-sm-offset-1">
                                    <div><input type="checkbox" id="checkbox-1-1" name="medicare" class="regular-checkbox solid-blue" ng-model="medicare" value="medicare" /><label for="checkbox-1-1"></label></div>
                                </div>
                                <div class="col-sm-8 col-sm-offset-0">
                                    <label for="checkbox-1-1">Medicare Back</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-1 col-sm-offset-1">
                                    <div><input type="checkbox" id="checkbox-1-2" name="other" class="regular-checkbox solid-blue" ng-model="other" value="other" /><label for="checkbox-1-2"></label></div>
                                </div>
                                <div class="col-sm-8 col-sm-offset-0">
                                    <label for="checkbox-1-2">Other</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-1 col-sm-offset-1">
                                    <div><input type="checkbox" id="checkbox-1-3" name="another" class="regular-checkbox solid-blue" ng-model="another" value="another" /><label for="checkbox-1-3"></label></div>
                                </div>
                                <div class="col-sm-8 col-sm-offset-0">
                                    <label for="checkbox-1-3">Another</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-sm-offset-2">
                                    <div class="btn btn-primary next-btn" onclick="hideAllExcept('isIncoming')">Back to Main Menu</div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- this is the end of the section that shows when Transfer is clicked -->


                    <!-- this is an option if the user just wants to type in a number instead of clicking the number buttons -->
                    <div class="dial-btns mrgtp30" id="incomingOrDiapad">

                        <!-- Incomming call status-->
                        <div id="incoming_callbox" class="call" style="display:none">
                            <div class="text-center" style="margin-bottom: 30px;">
                                Call From <span id="call_from" class="text-primary" style="font-weight:bold"></span>
                            </div>
                            <a href="javascript:void(0)" class="btn main-btn btn-success btn-block" onclick="tw_answer()">Answer</a>
                            <a href="javascript:void(0)" class="btn main-btn btn-danger btn-block" onclick="tw_reject()">Reject</a>
                        </div>
                        <!-- Incomming call status end-->

                        <div class="vertical-form" id="callcontainer">
                            <div class="row">
                                <div class="col-xs-2 col-md-2 padR0">
                                    <p class="dial_txt">Dial:</p>
                                </div>
                                <div class="col-sm-10 padL0">
                                    <input type="tel" class="form-control" placeholder="Phone number" name="tel" required value="{{dial_number}}" ng-model="dial_number" id="to" data-ng-keyup="reset(dial_number)">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 col-md-5 col-md-offset-1 col-xs-offset-6">
                                    <span class="label" id="status_txt1"></span>
                                </div>
                            </div>
                            <div class="row">
                                <!-- When button is clicked it appears in "Dial" textbox -->
                                <div class="col-sm-4 col-xs-4 col-md-4 padR2">
                                    <button name="btn1" class="numberbutton" value="1" data-ng-click="tw_dialer('1')">1<br/><span>&nbsp;</span></button>
                                </div>
                                <div class="col-sm-4 col-xs-4 col-md-4 padL2 padR2">
                                    <button name="btn2" class="numberbutton" value="2" data-ng-click="tw_dialer('2')">2<br/><span>ABC</span></button>
                                </div>
                                <div class="col-sm-4 col-xs-4 col-md-4 padL2">
                                    <button name="btn3" class="numberbutton" value="3" data-ng-click="tw_dialer('3')">3<br/><span>DEF</span></button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4 col-xs-4 col-md-4 padR2">
                                    <button name="btn4" class="numberbutton" value="4" data-ng-click="tw_dialer('4')">4<br/><span>GHI</span></button>
                                </div>
                                <div class="col-sm-4 col-xs-4 col-md-4 padL2 padR2">
                                    <button name="btn5" class="numberbutton" value="5" data-ng-click="tw_dialer('5')">5<br/><span>JKL</span></button>
                                </div>
                                <div class="col-sm-4 col-xs-4 col-md-4 padL2">
                                    <button name="btn6" class="numberbutton" value="6" data-ng-click="tw_dialer('6')">6<br/><span>MNO</span></button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4 col-xs-4 col-md-4 padR2">
                                    <button name="btn7" class="numberbutton" value="7" data-ng-click="tw_dialer('7')">7<br/><span>PQRS</span></button>
                                </div>
                                <div class="col-sm-4 col-xs-4 col-md-4 padL2 padR2">
                                    <button name="btn8" class="numberbutton" value="8" data-ng-click="tw_dialer('8')">8<br/><span>TUV</span></button>
                                </div>
                                <div class="col-sm-4 col-xs-4 col-md-4 padL2">
                                    <button name="btn9" class="numberbutton" value="9" data-ng-click="tw_dialer('9')">9<br/><span>WXYZ</span></button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4 col-xs-4 col-md-4 padR2">
                                    <button name="btn-star" class="numberbutton" value="*" data-ng-click="tw_dialer('*')">*<br/><span>&nbsp;</span></button>
                                </div>
                                <div class="col-sm-4 col-xs-4 col-md-4 padL2 padR2">
                                    <button name="btn0" class="numberbutton" value="0" data-ng-click="tw_dialer('0')">0<br/><span>+</span></button>
                                </div>
                                <div class="col-sm-4 col-xs-4 col-md-4 padL2">
                                    <button name="btn-pound" class="numberbutton" value="#" data-ng-click="tw_dialer('#')">#<br/><span>&nbsp;</span></button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-xs-12 col-md-12">
                                    <button id="tw_make_call" ng-disabled="(dial_number) ? false : true" class="btn btn-success btn-block" ng-click="tw_MakeCall(dial_number);" >CALL</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!--main div -->
                <div class="{{isSoftPhone ? 'col-sm-12' : 'col-sm-8'}}" ng-controller="LeadManageCtrl">
                    <div class="crmbox col-sm-10 col-sm-offset-1 dial-btns mrgtp30" style="background: none;">
                        <div class="crm-campaign-name">[ Caller Campaign Name ]</div>


                        <form class="vertical-form col-sm-offset-1" role="form" name="contact_info" ng-submit="submitCRM(crm)">
                            <input type="hidden" id = "callUUID" class="form-control">
                            <input type="hidden"  id = "caller_id"  class="form-control">
                            <div class="form-group">
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="firstName" data-ng-model="crm.first_name" placeholder="First Name *" required>
                                    <span class = "text-danger" ng-show="contact_info.firstName.$dirty && contact_info.firstName.$error.required" >First Name is required</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="lastName" data-ng-model="crm.last_name"placeholder="Last Name *" required>
                                    <span class = "text-danger" ng-show="contact_info.lastName.$dirty && contact_info.lastName.$error.required">Last Name is required</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-5">
                                    <input type="email" class="form-control" name="email" data-ng-model="crm.email"placeholder="Email *" required>
                                    <span class = "text-danger" ng-show="contact_info.email.$dirty && contact_info.email.$error.required">Email is required</span>
                                    <span class = "text-danger"  ng-show="contact_info.email.$dirty && contact_info.email.$error.email" >Invalid Email Address</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="phone" data-ng-model="crm.phone_no"placeholder="Contact Number *"ng-minlength="8" ng-maxlength="15" ng-pattern="/^[0-9+-]*$/" required>
                                    <span ng-show="contact_info.phone.$error.minlength" class="text-danger">Contact number is too short.</span>
                                    <span ng-show="contact_info.phone.$error.maxlength"class="text-danger">Contact number is too long.</span>
                                    <span ng-show="contact_info.phone.$error.pattern && !contact_info.phone.$pristine"
                                          class="text-danger">Contact Number should be number only.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="addLine1" data-ng-model="crm.addressLine1" placeholder="Address Line 1 *" required>
                                    <span class = "text-danger" ng-show="contact_info.addLine1.$dirty && contact_info.addLine1.$error.required">Address1 is required</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="addLine2" data-ng-model="crm.addressLine2" placeholder="Address Line 2">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="zip" ng-blur="getCity(crm.zip)" data-ng-model="crm.zip" placeholder="Zip *" required>
                                    <span class = "text-danger" ng-show="contact_info.zip.$dirty && contact_info.zip.$error.required">Zipcode is required</span>
                                </div>
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="city" data-ng-model="crm.city" placeholder="City *" required>
                                    <span class = "text-danger" ng-show="contact_info.city.$dirty && contact_info.city.$error.required">City is required</span>
                                </div>
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="state"  data-ng-model="crm.state" placeholder="State *" required>
                                    <span class = "text-danger" ng-show="contact_info.state.$dirty && contact_info.state.$error.required">State is required</span>
                                </div>
                                <div class="col-sm-5">
                                    <select ng-model="crm.lead_status">
                                        <option value="">Select lead status</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                    </select>
                                    <!-- these options are a priority category -->
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="col-sm-10">
                                    <textarea class="form-control" name="addNote" data-ng-model="crm.notes" placeholder="Add Note"></textarea>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-10 pull-left">
                                    <input type="submit" ng-disabled="contact_info.$invalid" value="Submit" ng-click="contact_info.$invalid ? '' : saveCallerDetails(crm)" class="btn btn-primary">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- this bottom section stays the whole time -->
            </div>
        </div>
    </div>
    <!-- this is the end of top div that will hide when Hold or Next is clicked -->
</div>













<!--

Number to call: <input type="text" id="tocall" value="">
<input type="button" id="call" value="Start Call"/>
<input type="button" id="hangup" value="Hangup Call" style="display:none;"/>
<div id="status">
    Offline
</div>
<div id="dialpad">
    <table>
        <tr>
            <td><input type="button" value="1" id="button1"></td>
            <td><input type="button" value="2" id="button2"></td>
            <td><input type="button" value="3" id="button3"></td>
        </tr>
        <tr>
            <td><input type="button" value="4" id="button4"></td>
            <td><input type="button" value="5" id="button5"></td>
            <td><input type="button" value="6" id="button6"></td>
        </tr>
        <tr>
            <td><input type="button" value="7" id="button7"></td>
            <td><input type="button" value="8" id="button8"></td>
            <td><input type="button" value="9" id="button9"></td>
        </tr>
        <tr>
            <td><input type="button" value="*" id="buttonstar"></td>
            <td><input type="button" value="0" id="button0"></td>
            <td><input type="button" value="#" id="buttonpound"></td>
        </tr>
    </table>
</div>-->